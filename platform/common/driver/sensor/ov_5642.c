/**************************************************************************
 *                                                                        *
 *         Copyright (c) 2010 by Generalplus Inc.                         *
 *                                                                        *
 *  This software is copyrighted by and is the property of Generalplus    *
 *  Inc. All rights are reserved by Generalplus Inc.                      *
 *  This software may only be used in accordance with the                 *
 *  corresponding license agreement. Any unauthorized use, duplication,   *
 *  distribution, or disclosure of this software is expressly forbidden.  *
 *                                                                        *
 *  This Copyright notice MUST not be removed or modified without prior   *
 *  written consent of Generalplus Technology Co., Ltd.                   *
 *                                                                        *
 *  Generalplus Inc. reserves the right to modify this software           *
 *  without notice.                                                       *
 *                                                                        *
 *  Generalplus Inc.                                                      *
 *  3F, No.8, Dusing Rd., Hsinchu Science Park,                           *
 *  Hsinchu City 30078, Taiwan, R.O.C.                                    *
 *                                                                        *
 **************************************************************************/
 
/**************************************************************************
 *                         H E A D E R   F I L E S												*
 **************************************************************************/
#include <linux/module.h>
#include <linux/fs.h> /* everything... */
#include <linux/videodev2.h>
#include <media/v4l2-device.h>
#include <linux/delay.h>
#include <mach/gp_gpio.h>
#include <mach/gp_i2c_bus.h>
#include <mach/gp_mipi.h>
#include <mach/sensor_mgr.h>

#if (defined CONFIG_ARCH_GPL32900B)
#include <mach/gp_ti2c_bus.h>
#endif

/**************************************************************************
 *                           C O N S T A N T S                            *
 **************************************************************************/
/* max resolution: 2592*1944 */
#define	OV5642_ID		0x78
#define OV5642_WIDTH	2592
#define OV5642_HEIGHT	1944

#define OV5642_YUYV		0x30
#define OV5642_UYVY		0x32
#define OV5642_BGGR		0x00
#define OV5642_GBRG		0x01
#define OV5642_GRBG		0x02
#define OV5642_RGGB		0x03

#define COLOR_BAR_EN	0

// I2C mode
#define	GPIO_I2C		0x00 
#define HW_I2C			0x01
#define HW_TI2C			0x02
#if (defined CONFIG_ARCH_GPL32900)
#define I2C_MODE		HW_I2C
#elif (defined CONFIG_ARCH_GPL32900B)
#define I2C_MODE		HW_TI2C
#else
#define I2C_MODE		GPIO_I2C
#endif

/**************************************************************************
 *                              M A C R O S                               *
 **************************************************************************/

/**************************************************************************
 *                          D A T A    T Y P E S                          *
 **************************************************************************/
typedef struct regval_list_s 
{
	unsigned short reg_num;
	unsigned char value;
}regval16_t;

typedef struct sensor_dev_s 
{
	struct v4l2_subdev sd;
	sensor_fmt_t *fmt;	/* Current format */
}sensor_dev_t;

/**************************************************************************
 *                 E X T E R N A L    R E F E R E N C E S                 *
 **************************************************************************/

/**************************************************************************
 *               F U N C T I O N    D E C L A R A T I O N S               *
 **************************************************************************/

/**************************************************************************
 *                         G L O B A L    D A T A                         *
 **************************************************************************/
static sensor_dev_t	g_sensor_dev;
#if (I2C_MODE == GPIO_I2C)
static int g_scl_handle, g_sda_handle;
#elif (I2C_MODE == HW_I2C)
static int g_i2c_handle;
#elif (I2C_MODE == HW_TI2C)
static ti2c_set_value_t g_ti2c_handle;
#endif

static char *param[] = {"0", "PORT0", "0", "NONE", "0", "NONE"};
static int nstrs = 6;
module_param_array(param, charp, &nstrs, S_IRUGO);

static sensor_fmt_t g_fmt_table[] =
{
	/* 0: CCIR YUV */
	{
		.desc		= "preview=1280*720",
		.pixelformat = V4L2_PIX_FMT_YVYU,
		.bpp 		= 2,
		.mclk_src = MODE_MCLK_SRC_96M,
		.mclk = 24000000,
		.hpixel = 1280,
		.hoffset = 0,
		.vline = 720,
		.voffset = 0,
	},
	/* 1: CCIR RAW */
	{
		.desc		= "preview=640*480",
		.pixelformat = V4L2_PIX_FMT_SGBRG8,
		.bpp 		= 1,
		.mclk_src = MODE_MCLK_SRC_96M,
		.mclk = 24000000,
		.hpixel = 640,
		.hoffset = 0,
		.vline = 480,
		.voffset = 0,
	},
	/* 2: CCIR RAW */
	{
		.desc		= "capture=2592*1944",
		.pixelformat = V4L2_PIX_FMT_SGBRG8,
		.bpp 		= 1,
		.mclk_src = MODE_MCLK_SRC_96M,
		.mclk = 24000000,
		.hpixel = 2592,
		.hoffset = 0,
		.vline = 1944,
		.voffset = 0,
	},
	/* 3: MIPI YUV */
	{
		.desc		= "preview=640*480",
		.pixelformat = V4L2_PIX_FMT_YVYU,
		.bpp 		= 2,
		.mclk_src = MODE_MCLK_SRC_96M,
		.mclk = 24000000,
		.hpixel = 640,
		.hoffset = 0,
		.vline = 480,
		.voffset = 0,
	},
	/* 4: MIPI YUV */
	{
		.desc		= "capture=1280*720",
		.pixelformat = V4L2_PIX_FMT_YVYU,
		.bpp 		= 2,
		.mclk_src = MODE_MCLK_SRC_96M,
		.mclk = 24000000,
		.hpixel = 1280,
		.hoffset = 0,
		.vline = 720,
		.voffset = 0,
	},
	/* 5: MIPI RAW */
	{
		.desc		= "capture=2592*1944",
		.pixelformat = V4L2_PIX_FMT_UYVY,
		.bpp 		= 1,
		.mclk_src = V4L2_PIX_FMT_SBGGR8,
		.mclk = 24000000,
		.hpixel = 2592,
		.hoffset = 0,
		.vline = 1944,
		.voffset = 0,
	},
};

#define C_SENSOR_FMT_MAX	sizeof(g_fmt_table)/sizeof(sensor_fmt_t)

static mipi_config_t mipi_setting = 
{
	.mipi_sep_clk_en = ENABLE,
	.mipi_sep_clk = 200000000,
	.mipi_sep_clk_src = MIPI_D_PHY_CLK,
	.byte_clk_edge = D_PHY_SAMPLE_POS,
	.low_power_en = DISABLE,
	.lane_num = MIPI_1_LANE,
	.ecc_check_en = ENABLE,
	.ecc_order = MIPI_ECC_ORDER3,
	.data_mask_time = 100, //ns
	.check_hs_seq = MIPI_CHECK_HS_SEQ,
};

static sensor_config_t config_table =
{
	.sensor_timing_mode = MODE_CCIR_HREF,
	.sensor_data_mode = MODE_DATA_YUV,
	.sensor_interlace_mode = MODE_NONE_INTERLACE,
	.sensor_pclk_mode = MODE_POSITIVE_EDGE,
	.sensor_hsync_mode = MODE_ACTIVE_HIGH,
	.sensor_vsync_mode = MODE_ACTIVE_LOW,
	.sensor_fmt_num = C_SENSOR_FMT_MAX,
	.fmt = g_fmt_table,
	.mipi_config = &mipi_setting,
};

static const regval16_t mipi_raw_5M[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x00 },
	{ 0x3003, 0x00 },
	{ 0x3011, 0x08 },
	{ 0x3010, 0x30 },	
	{ 0x3604, 0x60 },
	{ 0x3622, 0x60 },
	{ 0x3621, 0x09 },
	{ 0x3709, 0x00 },
	{ 0x4000, 0x21 },
	{ 0x4300, 0x00 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x300d, 0x21 },
	{ 0x3623, 0x22 },
	{ 0x5000, 0xcf },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x370c, 0xa0 },
	{ 0x3808, 0x0a },
	{ 0x3809, 0x20 },
	{ 0x380a, 0x07 },
	{ 0x380b, 0x98 },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x5000, 0x06 },
	{ 0x501f, 0x03 },
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3818, 0xc0 },
	{ 0x3824, 0x11 },
	{ 0x3801, 0x8a },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x04 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x3004, 0xff },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x10 },
	{ 0x3a0e, 0x0d },
	{ 0x589b, 0x00 },
	{ 0x589a, 0xc0 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x06 },
	{ 0x3825, 0xac },
	{ 0x3827, 0x0c },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x5000, 0x06 },
	{ 0x5001, 0x00 },
	{ 0x5005, 0x00 },
	{ 0x3818, 0x80 },
	{ 0x3621, 0x29 },
	{ 0x3801, 0xb4 },
	{ 0x4801, 0x0f },
	{ 0x3007, 0x3b },
	{ 0x300e, 0x04 },
	{ 0x4803, 0x50 },
	{ 0x3815, 0x01 },
	{ 0x4713, 0x02 },
	{ 0x4837, 0xFF },
	{ 0x4842, 0x01 },
	{ 0x3033, 0x43 },
	{ 0x3815, 0x02 },
	{ 0x300f, 0x0b },
	{ 0x3003, 0x03 },
	{ 0x3003, 0x01 },
	{ 0x3003, 0x01 },
	{ 0xffff, 0xff },	
};

static const regval16_t mipi_yuv_720P[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x00 },
	{ 0x3003, 0x00 },
	{ 0x3004, 0xff },
	{ 0x3030, 0x2b },
	{ 0x3011, 0x08 },
	{ 0x3010, 0x10 },
	{ 0x3604, 0x60 },
	{ 0x3622, 0x60 },
	{ 0x3621, 0x09 },
	{ 0x3709, 0x00 },
	{ 0x4000, 0x21 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x300d, 0x22 },
	{ 0x3623, 0x22 },
	{ 0x5000, 0x4f },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x370c, 0xa0 },
	{ 0x3808, 0x0a },
	{ 0x3809, 0x20 },
	{ 0x380a, 0x07 },
	{ 0x380b, 0x98 },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x5687, 0x94 },
	{ 0x501f, 0x00 },
	{ 0x5000, 0x4f },
	{ 0x5001, 0xcf },
	{ 0x4300, OV5642_UYVY }, /* format to YVYU */
	{ 0x4300, OV5642_UYVY }, /* format to YVYU */
	{ 0x460b, 0x35 },
	{ 0x471d, 0x00 },
	{ 0x3002, 0x0c },
	{ 0x3002, 0x00 },
	{ 0x4713, 0x03 },
	{ 0x471c, 0x50 },
	{ 0x4721, 0x02 },
	{ 0x4402, 0x90 },
	{ 0x460c, 0x22 },
	{ 0x3815, 0x44 },
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3818, 0xc8 },
	{ 0x3801, 0x88 },
	{ 0x3824, 0x11 },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x04 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x3a0f, 0x3c },
	{ 0x3a10, 0x32 },
	{ 0x3a1b, 0x3c },
	{ 0x3a1e, 0x32 },
	{ 0x3a11, 0x80 },
	{ 0x3a1f, 0x20 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x10 },
	{ 0x3a0e, 0x0d },
	{ 0x4407, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x589b, 0x00 },
	{ 0x589a, 0xc0 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x06 },
	{ 0x3825, 0xac },
	{ 0x3827, 0x0c },
	{ 0x528a, 0x01 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x10 },
	{ 0x528e, 0x20 },
	{ 0x528f, 0x28 },
	{ 0x5290, 0x30 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x01 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x04 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x08 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x10 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x20 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x28 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x30 },
	{ 0x5282, 0x00 },
	{ 0x5300, 0x00 },
	{ 0x5301, 0x20 },
	{ 0x5302, 0x00 },
	{ 0x5303, 0x7c },
	{ 0x530c, 0x00 },
	{ 0x530d, 0x0c },
	{ 0x530e, 0x20 },
	{ 0x530f, 0x80 },
	{ 0x5310, 0x20 },
	{ 0x5311, 0x80 },
	{ 0x5308, 0x20 },
	{ 0x5309, 0x40 },
	{ 0x5304, 0x00 },
	{ 0x5305, 0x30 },
	{ 0x5306, 0x00 },
	{ 0x5307, 0x80 },
	{ 0x5314, 0x08 },
	{ 0x5315, 0x20 },
	{ 0x5319, 0x30 },
	{ 0x5316, 0x10 },
	{ 0x5317, 0x00 },
	{ 0x5318, 0x02 },
	{ 0x5380, 0x01 },
	{ 0x5381, 0x00 },
	{ 0x5382, 0x00 },
	{ 0x5383, 0x4e },
	{ 0x5384, 0x00 },
	{ 0x5385, 0x0f },
	{ 0x5386, 0x00 },
	{ 0x5387, 0x00 },
	{ 0x5388, 0x01 },
	{ 0x5389, 0x15 },
	{ 0x538a, 0x00 },
	{ 0x538b, 0x31 },
	{ 0x538c, 0x00 },
	{ 0x538d, 0x00 },
	{ 0x538e, 0x00 },
	{ 0x538f, 0x0f },
	{ 0x5390, 0x00 },
	{ 0x5391, 0xab },
	{ 0x5392, 0x00 },
	{ 0x5393, 0xa2 },
	{ 0x5394, 0x08 },
	{ 0x5480, 0x14 },
	{ 0x5481, 0x21 },
	{ 0x5482, 0x36 },
	{ 0x5483, 0x57 },
	{ 0x5484, 0x65 },
	{ 0x5485, 0x71 },
	{ 0x5486, 0x7d },
	{ 0x5487, 0x87 },
	{ 0x5488, 0x91 },
	{ 0x5489, 0x9a },
	{ 0x548a, 0xaa },
	{ 0x548b, 0xb8 },
	{ 0x548c, 0xcd },
	{ 0x548d, 0xdd },
	{ 0x548e, 0xea },
	{ 0x548f, 0x1d },
	{ 0x5490, 0x05 },
	{ 0x5491, 0x00 },
	{ 0x5492, 0x04 },
	{ 0x5493, 0x20 },
	{ 0x5494, 0x03 },
	{ 0x5495, 0x60 },
	{ 0x5496, 0x02 },
	{ 0x5497, 0xb8 },
	{ 0x5498, 0x02 },
	{ 0x5499, 0x86 },
	{ 0x549a, 0x02 },
	{ 0x549b, 0x5b },
	{ 0x549c, 0x02 },
	{ 0x549d, 0x3b },
	{ 0x549e, 0x02 },
	{ 0x549f, 0x1c },
	{ 0x54a0, 0x02 },
	{ 0x54a1, 0x04 },
	{ 0x54a2, 0x01 },
	{ 0x54a3, 0xed },
	{ 0x54a4, 0x01 },
	{ 0x54a5, 0xc5 },
	{ 0x54a6, 0x01 },
	{ 0x54a7, 0xa5 },
	{ 0x54a8, 0x01 },
	{ 0x54a9, 0x6c },
	{ 0x54aa, 0x01 },
	{ 0x54ab, 0x41 },
	{ 0x54ac, 0x01 },
	{ 0x54ad, 0x20 },
	{ 0x54ae, 0x00 },
	{ 0x54af, 0x16 },
	{ 0x54b0, 0x01 },
	{ 0x54b1, 0x20 },
	{ 0x54b2, 0x00 },
	{ 0x54b3, 0x10 },
	{ 0x54b4, 0x00 },
	{ 0x54b5, 0xf0 },
	{ 0x54b6, 0x00 },
	{ 0x54b7, 0xdf },
	{ 0x5402, 0x3f },
	{ 0x5403, 0x00 },
	{ 0x3406, 0x00 },
	{ 0x5180, 0xff },
	{ 0x5181, 0x52 },
	{ 0x5182, 0x11 },
	{ 0x5183, 0x14 },
	{ 0x5184, 0x25 },
	{ 0x5185, 0x24 },
	{ 0x5186, 0x06 },
	{ 0x5187, 0x08 },
	{ 0x5188, 0x08 },
	{ 0x5189, 0x7c },
	{ 0x518a, 0x60 },
	{ 0x518b, 0xb2 },
	{ 0x518c, 0xb2 },
	{ 0x518d, 0x44 },
	{ 0x518e, 0x3d },
	{ 0x518f, 0x58 },
	{ 0x5190, 0x46 },
	{ 0x5191, 0xf8 },
	{ 0x5192, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x5194, 0xf0 },
	{ 0x5195, 0xf0 },
	{ 0x5196, 0x03 },
	{ 0x5197, 0x01 },
	{ 0x5198, 0x04 },
	{ 0x5199, 0x12 },
	{ 0x519a, 0x04 },
	{ 0x519b, 0x00 },
	{ 0x519c, 0x06 },
	{ 0x519d, 0x82 },
	{ 0x519e, 0x00 },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x5688, 0xa6 },
	{ 0x5689, 0x6a },
	{ 0x568a, 0xea },
	{ 0x568b, 0xae },
	{ 0x568c, 0xa6 },
	{ 0x568d, 0x6a },
	{ 0x568e, 0x62 },
	{ 0x568f, 0x26 },
	{ 0x5583, 0x40 },
	{ 0x5584, 0x40 },
	{ 0x5580, 0x02 },
	{ 0x5000, 0xcf },
	{ 0x5800, 0x27 },
	{ 0x5801, 0x19 },
	{ 0x5802, 0x12 },
	{ 0x5803, 0x0f },
	{ 0x5804, 0x10 },
	{ 0x5805, 0x15 },
	{ 0x5806, 0x1e },
	{ 0x5807, 0x2f },
	{ 0x5808, 0x15 },
	{ 0x5809, 0x0d },
	{ 0x580a, 0x0a },
	{ 0x580b, 0x09 },
	{ 0x580c, 0x0a },
	{ 0x580d, 0x0c },
	{ 0x580e, 0x12 },
	{ 0x580f, 0x19 },
	{ 0x5810, 0x0b },
	{ 0x5811, 0x07 },
	{ 0x5812, 0x04 },
	{ 0x5813, 0x03 },
	{ 0x5814, 0x03 },
	{ 0x5815, 0x06 },
	{ 0x5816, 0x0a },
	{ 0x5817, 0x0f },
	{ 0x5818, 0x0a },
	{ 0x5819, 0x05 },
	{ 0x581a, 0x01 },
	{ 0x581b, 0x00 },
	{ 0x581c, 0x00 },
	{ 0x581d, 0x03 },
	{ 0x581e, 0x08 },
	{ 0x581f, 0x0c },
	{ 0x5820, 0x0a },
	{ 0x5821, 0x05 },
	{ 0x5822, 0x01 },
	{ 0x5823, 0x00 },
	{ 0x5824, 0x00 },
	{ 0x5825, 0x03 },
	{ 0x5826, 0x08 },
	{ 0x5827, 0x0c },
	{ 0x5828, 0x0e },
	{ 0x5829, 0x08 },
	{ 0x582a, 0x06 },
	{ 0x582b, 0x04 },
	{ 0x582c, 0x05 },
	{ 0x582d, 0x07 },
	{ 0x582e, 0x0b },
	{ 0x582f, 0x12 },
	{ 0x5830, 0x18 },
	{ 0x5831, 0x10 },
	{ 0x5832, 0x0c },
	{ 0x5833, 0x0a },
	{ 0x5834, 0x0b },
	{ 0x5835, 0x0e },
	{ 0x5836, 0x15 },
	{ 0x5837, 0x19 },
	{ 0x5838, 0x32 },
	{ 0x5839, 0x1f },
	{ 0x583a, 0x18 },
	{ 0x583b, 0x16 },
	{ 0x583c, 0x17 },
	{ 0x583d, 0x1e },
	{ 0x583e, 0x26 },
	{ 0x583f, 0x53 },
	{ 0x5840, 0x10 },
	{ 0x5841, 0x0f },
	{ 0x5842, 0x0d },
	{ 0x5843, 0x0c },
	{ 0x5844, 0x0e },
	{ 0x5845, 0x09 },
	{ 0x5846, 0x11 },
	{ 0x5847, 0x10 },
	{ 0x5848, 0x10 },
	{ 0x5849, 0x10 },
	{ 0x584a, 0x10 },
	{ 0x584b, 0x0e },
	{ 0x584c, 0x10 },
	{ 0x584d, 0x10 },
	{ 0x584e, 0x11 },
	{ 0x584f, 0x10 },
	{ 0x5850, 0x0f },
	{ 0x5851, 0x0c },
	{ 0x5852, 0x0f },
	{ 0x5853, 0x10 },
	{ 0x5854, 0x10 },
	{ 0x5855, 0x0f },
	{ 0x5856, 0x0e },
	{ 0x5857, 0x0b },
	{ 0x5858, 0x10 },
	{ 0x5859, 0x0d },
	{ 0x585a, 0x0d },
	{ 0x585b, 0x0c },
	{ 0x585c, 0x0c },
	{ 0x585d, 0x0c },
	{ 0x585e, 0x0b },
	{ 0x585f, 0x0c },
	{ 0x5860, 0x0c },
	{ 0x5861, 0x0c },
	{ 0x5862, 0x0d },
	{ 0x5863, 0x08 },
	{ 0x5864, 0x11 },
	{ 0x5865, 0x18 },
	{ 0x5866, 0x18 },
	{ 0x5867, 0x19 },
	{ 0x5868, 0x17 },
	{ 0x5869, 0x19 },
	{ 0x586a, 0x16 },
	{ 0x586b, 0x13 },
	{ 0x586c, 0x13 },
	{ 0x586d, 0x12 },
	{ 0x586e, 0x13 },
	{ 0x586f, 0x16 },
	{ 0x5870, 0x14 },
	{ 0x5871, 0x12 },
	{ 0x5872, 0x10 },
	{ 0x5873, 0x11 },
	{ 0x5874, 0x11 },
	{ 0x5875, 0x16 },
	{ 0x5876, 0x14 },
	{ 0x5877, 0x11 },
	{ 0x5878, 0x10 },
	{ 0x5879, 0x0f },
	{ 0x587a, 0x10 },
	{ 0x587b, 0x14 },
	{ 0x587c, 0x13 },
	{ 0x587d, 0x12 },
	{ 0x587e, 0x11 },
	{ 0x587f, 0x11 },
	{ 0x5880, 0x12 },
	{ 0x5881, 0x15 },
	{ 0x5882, 0x14 },
	{ 0x5883, 0x15 },
	{ 0x5884, 0x15 },
	{ 0x5885, 0x15 },
	{ 0x5886, 0x13 },
	{ 0x5887, 0x17 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x3503, 0x07 },
	{ 0x3011, 0x08 },
	{ 0x350c, 0x02 },
	{ 0x350d, 0xe4 },
	{ 0x3621, 0xc9 },
	{ 0x370a, 0x81 },
	{ 0x3803, 0x08 },
	{ 0x3804, 0x05 },
	{ 0x3805, 0x00 },
	{ 0x3806, 0x02 },
	{ 0x3807, 0xd0 },
	{ 0x3808, 0x05 },
	{ 0x3809, 0x00 },
	{ 0x380a, 0x02 },
	{ 0x380b, 0xd0 },
	{ 0x380c, 0x08 },
	{ 0x380d, 0x72 },
	{ 0x380e, 0x02 },
	{ 0x380f, 0xe4 },
	{ 0x3810, 0xc0 },
	{ 0x3818, 0xc9 },
	{ 0x381c, 0x10 },
	{ 0x381d, 0xa0 },
	{ 0x381e, 0x05 },
	{ 0x381f, 0xb0 },
	{ 0x3820, 0x00 },
	{ 0x3821, 0x00 },
	{ 0x3824, 0x11 },
	{ 0x3a08, 0x1b },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x17 },
	{ 0x3a0b, 0x20 },
	{ 0x3a0d, 0x02 },
	{ 0x3a0e, 0x01 },
	{ 0x401c, 0x04 },
	{ 0x5682, 0x05 },
	{ 0x5683, 0x00 },
	{ 0x5686, 0x02 },
	{ 0x5687, 0xcc },
	{ 0x5001, 0x7f },
	{ 0x589b, 0x06 },
	{ 0x589a, 0xc5 },
	{ 0x3503, 0x00 },
	{ 0x460c, 0x20 },
	{ 0x460b, 0x37 },
	{ 0x471c, 0xd0 },
	{ 0x471d, 0x05 },
	{ 0x3815, 0x01 },
	{ 0x3818, 0xc1 },
	{ 0x501f, 0x00 },
	{ 0x5002, 0xe0 },
	{ 0x4300, OV5642_UYVY }, /* format to YVYU */
	{ 0x3002, 0x1c },
	{ 0x4800, 0x14 },
	{ 0x4801, 0x0f },
	{ 0x3007, 0x3b },
	{ 0x300e, 0x04 },
	{ 0x4803, 0x50 },
	{ 0x3815, 0x01 },
	{ 0x4713, 0x02 },
	{ 0x4842, 0x01 },
	{ 0x3029, 0x01 },
	{ 0x300f, 0x0a },
	{ 0x3003, 0x03 },
	{ 0x3003, 0x01 },
	{ 0xffff, 0xff },
};

static const regval16_t mipi_yuv_VGA[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x5c },
	{ 0x3003, 0x00 },
	{ 0x3004, 0xff },
	{ 0x3005, 0xff },
	{ 0x3006, 0x43 },
	{ 0x3007, 0x37 },
	{ 0x3011, 0x08 },
	{ 0x3010, 0x10 },
	{ 0x460c, 0x22 },
	{ 0x3815, 0x04 },
	{ 0x370c, 0xa0 },
	{ 0x3602, 0xfc },
	{ 0x3612, 0xff },
	{ 0x3634, 0xc0 },
	{ 0x3613, 0x00 },
	{ 0x3605, 0x7c },
	{ 0x3621, 0x09 },
	{ 0x3622, 0x60 },
	{ 0x3604, 0x40 },
	{ 0x3603, 0xa7 },
	{ 0x3603, 0x27 },
	{ 0x4000, 0x21 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x5000, 0x4f },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5001, 0xff },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x3808, 0x02 },
	{ 0x3809, 0x80 },
	{ 0x380a, 0x01 },
	{ 0x380b, 0xe0 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x501f, 0x00 },
	{ 0x5000, 0x4f },
	{ 0x4300, OV5642_UYVY }, /* format to yvyu */
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x07 },
	{ 0x3824, 0x11 },
	{ 0x3501, 0x1e },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x7f },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x03 },
	{ 0x380f, 0xe8 },
	{ 0x3a0d, 0x04 },
	{ 0x3a0e, 0x03 },
	{ 0x3818, 0xc1 },
	{ 0x3705, 0xdb },
	{ 0x370a, 0x81 },
	{ 0x3801, 0x80 },
	{ 0x3621, 0x87 },
	{ 0x3801, 0x50 },
	{ 0x3803, 0x08 },
	{ 0x3827, 0x08 },
	{ 0x3810, 0x40 },
	{ 0x3804, 0x05 },
	{ 0x3805, 0x00 },
	{ 0x5682, 0x05 },
	{ 0x5683, 0x00 },
	{ 0x3806, 0x03 },
	{ 0x3807, 0xc0 },
	{ 0x5686, 0x03 },
	{ 0x5687, 0xbc },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x05 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x528a, 0x02 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x08 },
	{ 0x528e, 0x08 },
	{ 0x528f, 0x10 },
	{ 0x5290, 0x10 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x02 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x02 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x02 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x02 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x02 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x02 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x02 },
	{ 0x3a0f, 0x3c },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3c },
	{ 0x3a1e, 0x30 },
	{ 0x3a11, 0x70 },
	{ 0x3a1f, 0x10 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x5193, 0x70 },
	{ 0x589b, 0x04 },
	{ 0x589a, 0xc5 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x04 },
	{ 0x528a, 0x01 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x10 },
	{ 0x528e, 0x20 },
	{ 0x528f, 0x28 },
	{ 0x5290, 0x30 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x01 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x04 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x08 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x10 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x20 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x28 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x30 },
	{ 0x5282, 0x00 },
	{ 0x5300, 0x00 },
	{ 0x5301, 0x20 },
	{ 0x5302, 0x00 },
	{ 0x5303, 0x7c },
	{ 0x530c, 0x00 },
	{ 0x530d, 0x0c },
	{ 0x530e, 0x20 },
	{ 0x530f, 0x80 },
	{ 0x5310, 0x20 },
	{ 0x5311, 0x80 },
	{ 0x5308, 0x20 },
	{ 0x5309, 0x40 },
	{ 0x5304, 0x00 },
	{ 0x5305, 0x30 },
	{ 0x5306, 0x00 },
	{ 0x5307, 0x80 },
	{ 0x5314, 0x08 },
	{ 0x5315, 0x20 },
	{ 0x5319, 0x30 },
	{ 0x5316, 0x10 },
	{ 0x5317, 0x00 },
	{ 0x5318, 0x02 },
	{ 0x5380, 0x01 },
	{ 0x5381, 0x00 },
	{ 0x5382, 0x00 },
	{ 0x5383, 0x4e },
	{ 0x5384, 0x00 },
	{ 0x5385, 0x0f },
	{ 0x5386, 0x00 },
	{ 0x5387, 0x00 },
	{ 0x5388, 0x01 },
	{ 0x5389, 0x15 },
	{ 0x538a, 0x00 },
	{ 0x538b, 0x31 },
	{ 0x538c, 0x00 },
	{ 0x538d, 0x00 },
	{ 0x538e, 0x00 },
	{ 0x538f, 0x0f },
	{ 0x5390, 0x00 },
	{ 0x5391, 0xab },
	{ 0x5392, 0x00 },
	{ 0x5393, 0xa2 },
	{ 0x5394, 0x08 },
	{ 0x5480, 0x14 },
	{ 0x5481, 0x21 },
	{ 0x5482, 0x36 },
	{ 0x5483, 0x57 },
	{ 0x5484, 0x65 },
	{ 0x5485, 0x71 },
	{ 0x5486, 0x7d },
	{ 0x5487, 0x87 },
	{ 0x5488, 0x91 },
	{ 0x5489, 0x9a },
	{ 0x548a, 0xaa },
	{ 0x548b, 0xb8 },
	{ 0x548c, 0xcd },
	{ 0x548d, 0xdd },
	{ 0x548e, 0xea },
	{ 0x548f, 0x1d },
	{ 0x5490, 0x05 },
	{ 0x5491, 0x00 },
	{ 0x5492, 0x04 },
	{ 0x5493, 0x20 },
	{ 0x5494, 0x03 },
	{ 0x5495, 0x60 },
	{ 0x5496, 0x02 },
	{ 0x5497, 0xb8 },
	{ 0x5498, 0x02 },
	{ 0x5499, 0x86 },
	{ 0x549a, 0x02 },
	{ 0x549b, 0x5b },
	{ 0x549c, 0x02 },
	{ 0x549d, 0x3b },
	{ 0x549e, 0x02 },
	{ 0x549f, 0x1c },
	{ 0x54a0, 0x02 },
	{ 0x54a1, 0x04 },
	{ 0x54a2, 0x01 },
	{ 0x54a3, 0xed },
	{ 0x54a4, 0x01 },
	{ 0x54a5, 0xc5 },
	{ 0x54a6, 0x01 },
	{ 0x54a7, 0xa5 },
	{ 0x54a8, 0x01 },
	{ 0x54a9, 0x6c },
	{ 0x54aa, 0x01 },
	{ 0x54ab, 0x41 },
	{ 0x54ac, 0x01 },
	{ 0x54ad, 0x20 },
	{ 0x54ae, 0x00 },
	{ 0x54af, 0x16 },
	{ 0x54b0, 0x01 },
	{ 0x54b1, 0x20 },
	{ 0x54b2, 0x00 },
	{ 0x54b3, 0x10 },
	{ 0x54b4, 0x00 },
	{ 0x54b5, 0xf0 },
	{ 0x54b6, 0x00 },
	{ 0x54b7, 0xdf },
	{ 0x5402, 0x3f },
	{ 0x5403, 0x00 },
	{ 0x3406, 0x00 },
	{ 0x5180, 0xff },
	{ 0x5181, 0x52 },
	{ 0x5182, 0x11 },
	{ 0x5183, 0x14 },
	{ 0x5184, 0x25 },
	{ 0x5185, 0x24 },
	{ 0x5186, 0x06 },
	{ 0x5187, 0x08 },
	{ 0x5188, 0x08 },
	{ 0x5189, 0x7c },
	{ 0x518a, 0x60 },
	{ 0x518b, 0xb2 },
	{ 0x518c, 0xb2 },
	{ 0x518d, 0x44 },
	{ 0x518e, 0x3d },
	{ 0x518f, 0x58 },
	{ 0x5190, 0x46 },
	{ 0x5191, 0xf8 },
	{ 0x5192, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x5194, 0xf0 },
	{ 0x5195, 0xf0 },
	{ 0x5196, 0x03 },
	{ 0x5197, 0x01 },
	{ 0x5198, 0x04 },
	{ 0x5199, 0x12 },
	{ 0x519a, 0x04 },
	{ 0x519b, 0x00 },
	{ 0x519c, 0x06 },
	{ 0x519d, 0x82 },
	{ 0x519e, 0x00 },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x5688, 0xa6 },
	{ 0x5689, 0x6a },
	{ 0x568a, 0xea },
	{ 0x568b, 0xae },
	{ 0x568c, 0xa6 },
	{ 0x568d, 0x6a },
	{ 0x568e, 0x62 },
	{ 0x568f, 0x26 },
	{ 0x5583, 0x40 },
	{ 0x5584, 0x40 },
	{ 0x5580, 0x02 },
	{ 0x5000, 0xcf },
	{ 0x5800, 0x27 },
	{ 0x5801, 0x19 },
	{ 0x5802, 0x12 },
	{ 0x5803, 0x0f },
	{ 0x5804, 0x10 },
	{ 0x5805, 0x15 },
	{ 0x5806, 0x1e },
	{ 0x5807, 0x2f },
	{ 0x5808, 0x15 },
	{ 0x5809, 0x0d },
	{ 0x580a, 0x0a },
	{ 0x580b, 0x09 },
	{ 0x580c, 0x0a },
	{ 0x580d, 0x0c },
	{ 0x580e, 0x12 },
	{ 0x580f, 0x19 },
	{ 0x5810, 0x0b },
	{ 0x5811, 0x07 },
	{ 0x5812, 0x04 },
	{ 0x5813, 0x03 },
	{ 0x5814, 0x03 },
	{ 0x5815, 0x06 },
	{ 0x5816, 0x0a },
	{ 0x5817, 0x0f },
	{ 0x5818, 0x0a },
	{ 0x5819, 0x05 },
	{ 0x581a, 0x01 },
	{ 0x581b, 0x00 },
	{ 0x581c, 0x00 },
	{ 0x581d, 0x03 },
	{ 0x581e, 0x08 },
	{ 0x581f, 0x0c },
	{ 0x5820, 0x0a },
	{ 0x5821, 0x05 },
	{ 0x5822, 0x01 },
	{ 0x5823, 0x00 },
	{ 0x5824, 0x00 },
	{ 0x5825, 0x03 },
	{ 0x5826, 0x08 },
	{ 0x5827, 0x0c },
	{ 0x5828, 0x0e },
	{ 0x5829, 0x08 },
	{ 0x582a, 0x06 },
	{ 0x582b, 0x04 },
	{ 0x582c, 0x05 },
	{ 0x582d, 0x07 },
	{ 0x582e, 0x0b },
	{ 0x582f, 0x12 },
	{ 0x5830, 0x18 },
	{ 0x5831, 0x10 },
	{ 0x5832, 0x0c },
	{ 0x5833, 0x0a },
	{ 0x5834, 0x0b },
	{ 0x5835, 0x0e },
	{ 0x5836, 0x15 },
	{ 0x5837, 0x19 },
	{ 0x5838, 0x32 },
	{ 0x5839, 0x1f },
	{ 0x583a, 0x18 },
	{ 0x583b, 0x16 },
	{ 0x583c, 0x17 },
	{ 0x583d, 0x1e },
	{ 0x583e, 0x26 },
	{ 0x583f, 0x53 },
	{ 0x5840, 0x10 },
	{ 0x5841, 0x0f },
	{ 0x5842, 0x0d },
	{ 0x5843, 0x0c },
	{ 0x5844, 0x0e },
	{ 0x5845, 0x09 },
	{ 0x5846, 0x11 },
	{ 0x5847, 0x10 },
	{ 0x5848, 0x10 },
	{ 0x5849, 0x10 },
	{ 0x584a, 0x10 },
	{ 0x584b, 0x0e },
	{ 0x584c, 0x10 },
	{ 0x584d, 0x10 },
	{ 0x584e, 0x11 },
	{ 0x584f, 0x10 },
	{ 0x5850, 0x0f },
	{ 0x5851, 0x0c },
	{ 0x5852, 0x0f },
	{ 0x5853, 0x10 },
	{ 0x5854, 0x10 },
	{ 0x5855, 0x0f },
	{ 0x5856, 0x0e },
	{ 0x5857, 0x0b },
	{ 0x5858, 0x10 },
	{ 0x5859, 0x0d },
	{ 0x585a, 0x0d },
	{ 0x585b, 0x0c },
	{ 0x585c, 0x0c },
	{ 0x585d, 0x0c },
	{ 0x585e, 0x0b },
	{ 0x585f, 0x0c },
	{ 0x5860, 0x0c },
	{ 0x5861, 0x0c },
	{ 0x5862, 0x0d },
	{ 0x5863, 0x08 },
	{ 0x5864, 0x11 },
	{ 0x5865, 0x18 },
	{ 0x5866, 0x18 },
	{ 0x5867, 0x19 },
	{ 0x5868, 0x17 },
	{ 0x5869, 0x19 },
	{ 0x586a, 0x16 },
	{ 0x586b, 0x13 },
	{ 0x586c, 0x13 },
	{ 0x586d, 0x12 },
	{ 0x586e, 0x13 },
	{ 0x586f, 0x16 },
	{ 0x5870, 0x14 },
	{ 0x5871, 0x12 },
	{ 0x5872, 0x10 },
	{ 0x5873, 0x11 },
	{ 0x5874, 0x11 },
	{ 0x5875, 0x16 },
	{ 0x5876, 0x14 },
	{ 0x5877, 0x11 },
	{ 0x5878, 0x10 },
	{ 0x5879, 0x0f },
	{ 0x587a, 0x10 },
	{ 0x587b, 0x14 },
	{ 0x587c, 0x13 },
	{ 0x587d, 0x12 },
	{ 0x587e, 0x11 },
	{ 0x587f, 0x11 },
	{ 0x5880, 0x12 },
	{ 0x5881, 0x15 },
	{ 0x5882, 0x14 },
	{ 0x5883, 0x15 },
	{ 0x5884, 0x15 },
	{ 0x5885, 0x15 },
	{ 0x5886, 0x13 },
	{ 0x5887, 0x17 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x4801, 0x0f },
	{ 0x3007, 0x3b },
	{ 0x300e, 0x04 },
	{ 0x4803, 0x50 },
	{ 0x3815, 0x01 },
	{ 0x4713, 0x02 },
	{ 0x4842, 0x01 },
	{ 0x3033, 0x43 },
	{ 0x3815, 0x02 },
	{ 0x300f, 0x0a },
	{ 0x3003, 0x03 },
	{ 0x3003, 0x01 },
	{ 0xffff, 0xff },
};

static const regval16_t ccir_raw_5M[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x00 },
	{ 0x3003, 0x00 },
	{ 0x3011, 0x08 },
	{ 0x3012, 0x00 }, /* pre divider 1 */
	{ 0x3010, 0x00 },
	{ 0x3604, 0x60 },
	{ 0x3622, 0x60 },
	{ 0x3621, 0x09 },
	{ 0x3709, 0x00 },
	{ 0x4000, 0x21 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x300d, 0x21 },
	{ 0x3623, 0x22 },
	{ 0x5000, 0xcf },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x370c, 0xa0 },
	{ 0x3808, 0x0a },
	{ 0x3809, 0x20 },
	{ 0x380a, 0x07 },
	{ 0x380b, 0x98 },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x5000, 0x06 },
	{ 0x501f, 0x03 },
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3818, 0xc0 },
	{ 0x3824, 0x11 },
	{ 0x3801, 0x8a },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x04 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x3004, 0xff },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x10 },
	{ 0x3a0e, 0x0d },
	{ 0x589b, 0x00 },
	{ 0x589a, 0xc0 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x06 },
	{ 0x3825, 0xac },
	{ 0x3827, 0x0c },
	{ 0x528a, 0x01 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x10 },
	{ 0x528e, 0x20 },
	{ 0x528f, 0x28 },
	{ 0x5290, 0x30 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x01 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x04 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x08 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x10 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x20 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x28 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x30 },
	{ 0x5282, 0x00 },
	{ 0x5300, 0x00 },
	{ 0x5301, 0x20 },
	{ 0x5302, 0x00 },
	{ 0x5303, 0x7c },
	{ 0x530c, 0x00 },
	{ 0x530d, 0x0c },
	{ 0x530e, 0x20 },
	{ 0x530f, 0x80 },
	{ 0x5310, 0x20 },
	{ 0x5311, 0x80 },
	{ 0x5308, 0x20 },
	{ 0x5309, 0x40 },
	{ 0x5304, 0x00 },
	{ 0x5305, 0x30 },
	{ 0x5306, 0x00 },
	{ 0x5307, 0x80 },
	{ 0x5314, 0x08 },
	{ 0x5315, 0x20 },
	{ 0x5319, 0x30 },
	{ 0x5316, 0x10 },
	{ 0x5317, 0x00 },
	{ 0x5318, 0x02 },
	{ 0x5380, 0x01 },
	{ 0x5381, 0x00 },
	{ 0x5382, 0x00 },
	{ 0x5383, 0x4e },
	{ 0x5384, 0x00 },
	{ 0x5385, 0x0f },
	{ 0x5386, 0x00 },
	{ 0x5387, 0x00 },
	{ 0x5388, 0x01 },
	{ 0x5389, 0x15 },
	{ 0x538a, 0x00 },
	{ 0x538b, 0x31 },
	{ 0x538c, 0x00 },
	{ 0x538d, 0x00 },
	{ 0x538e, 0x00 },
	{ 0x538f, 0x0f },
	{ 0x5390, 0x00 },
	{ 0x5391, 0xab },
	{ 0x5392, 0x00 },
	{ 0x5393, 0xa2 },
	{ 0x5394, 0x08 },
	{ 0x5480, 0x14 },
	{ 0x5481, 0x21 },
	{ 0x5482, 0x36 },
	{ 0x5483, 0x57 },
	{ 0x5484, 0x65 },
	{ 0x5485, 0x71 },
	{ 0x5486, 0x7d },
	{ 0x5487, 0x87 },
	{ 0x5488, 0x91 },
	{ 0x5489, 0x9a },
	{ 0x548a, 0xaa },
	{ 0x548b, 0xb8 },
	{ 0x548c, 0xcd },
	{ 0x548d, 0xdd },
	{ 0x548e, 0xea },
	{ 0x548f, 0x1d },
	{ 0x5490, 0x05 },
	{ 0x5491, 0x00 },
	{ 0x5492, 0x04 },
	{ 0x5493, 0x20 },
	{ 0x5494, 0x03 },
	{ 0x5495, 0x60 },
	{ 0x5496, 0x02 },
	{ 0x5497, 0xb8 },
	{ 0x5498, 0x02 },
	{ 0x5499, 0x86 },
	{ 0x549a, 0x02 },
	{ 0x549b, 0x5b },
	{ 0x549c, 0x02 },
	{ 0x549d, 0x3b },
	{ 0x549e, 0x02 },
	{ 0x549f, 0x1c },
	{ 0x54a0, 0x02 },
	{ 0x54a1, 0x04 },
	{ 0x54a2, 0x01 },
	{ 0x54a3, 0xed },
	{ 0x54a4, 0x01 },
	{ 0x54a5, 0xc5 },
	{ 0x54a6, 0x01 },
	{ 0x54a7, 0xa5 },
	{ 0x54a8, 0x01 },
	{ 0x54a9, 0x6c },
	{ 0x54aa, 0x01 },
	{ 0x54ab, 0x41 },
	{ 0x54ac, 0x01 },
	{ 0x54ad, 0x20 },
	{ 0x54ae, 0x00 },
	{ 0x54af, 0x16 },
	{ 0x54b0, 0x01 },
	{ 0x54b1, 0x20 },
	{ 0x54b2, 0x00 },
	{ 0x54b3, 0x10 },
	{ 0x54b4, 0x00 },
	{ 0x54b5, 0xf0 },
	{ 0x54b6, 0x00 },
	{ 0x54b7, 0xdf },
	{ 0x5402, 0x3f },
	{ 0x5403, 0x00 },
	{ 0x3406, 0x00 },
	{ 0x5180, 0xff },
	{ 0x5181, 0x52 },
	{ 0x5182, 0x11 },
	{ 0x5183, 0x14 },
	{ 0x5184, 0x25 },
	{ 0x5185, 0x24 },
	{ 0x5186, 0x06 },
	{ 0x5187, 0x08 },
	{ 0x5188, 0x08 },
	{ 0x5189, 0x7c },
	{ 0x518a, 0x60 },
	{ 0x518b, 0xb2 },
	{ 0x518c, 0xb2 },
	{ 0x518d, 0x44 },
	{ 0x518e, 0x3d },
	{ 0x518f, 0x58 },
	{ 0x5190, 0x46 },
	{ 0x5191, 0xf8 },
	{ 0x5192, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x5194, 0xf0 },
	{ 0x5195, 0xf0 },
	{ 0x5196, 0x03 },
	{ 0x5197, 0x01 },
	{ 0x5198, 0x04 },
	{ 0x5199, 0x12 },
	{ 0x519a, 0x04 },
	{ 0x519b, 0x00 },
	{ 0x519c, 0x06 },
	{ 0x519d, 0x82 },
	{ 0x519e, 0x00 },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x5688, 0xa6 },
	{ 0x5689, 0x6a },
	{ 0x568a, 0xea },
	{ 0x568b, 0xae },
	{ 0x568c, 0xa6 },
	{ 0x568d, 0x6a },
	{ 0x568e, 0x62 },
	{ 0x568f, 0x26 },
	{ 0x5583, 0x40 },
	{ 0x5584, 0x40 },
	{ 0x5580, 0x02 },
	{ 0x5000, 0xcf },
	{ 0x5800, 0x27 },
	{ 0x5801, 0x19 },
	{ 0x5802, 0x12 },
	{ 0x5803, 0x0f },
	{ 0x5804, 0x10 },
	{ 0x5805, 0x15 },
	{ 0x5806, 0x1e },
	{ 0x5807, 0x2f },
	{ 0x5808, 0x15 },
	{ 0x5809, 0x0d },
	{ 0x580a, 0x0a },
	{ 0x580b, 0x09 },
	{ 0x580c, 0x0a },
	{ 0x580d, 0x0c },
	{ 0x580e, 0x12 },
	{ 0x580f, 0x19 },
	{ 0x5810, 0x0b },
	{ 0x5811, 0x07 },
	{ 0x5812, 0x04 },
	{ 0x5813, 0x03 },
	{ 0x5814, 0x03 },
	{ 0x5815, 0x06 },
	{ 0x5816, 0x0a },
	{ 0x5817, 0x0f },
	{ 0x5818, 0x0a },
	{ 0x5819, 0x05 },
	{ 0x581a, 0x01 },
	{ 0x581b, 0x00 },
	{ 0x581c, 0x00 },
	{ 0x581d, 0x03 },
	{ 0x581e, 0x08 },
	{ 0x581f, 0x0c },
	{ 0x5820, 0x0a },
	{ 0x5821, 0x05 },
	{ 0x5822, 0x01 },
	{ 0x5823, 0x00 },
	{ 0x5824, 0x00 },
	{ 0x5825, 0x03 },
	{ 0x5826, 0x08 },
	{ 0x5827, 0x0c },
	{ 0x5828, 0x0e },
	{ 0x5829, 0x08 },
	{ 0x582a, 0x06 },
	{ 0x582b, 0x04 },
	{ 0x582c, 0x05 },
	{ 0x582d, 0x07 },
	{ 0x582e, 0x0b },
	{ 0x582f, 0x12 },
	{ 0x5830, 0x18 },
	{ 0x5831, 0x10 },
	{ 0x5832, 0x0c },
	{ 0x5833, 0x0a },
	{ 0x5834, 0x0b },
	{ 0x5835, 0x0e },
	{ 0x5836, 0x15 },
	{ 0x5837, 0x19 },
	{ 0x5838, 0x32 },
	{ 0x5839, 0x1f },
	{ 0x583a, 0x18 },
	{ 0x583b, 0x16 },
	{ 0x583c, 0x17 },
	{ 0x583d, 0x1e },
	{ 0x583e, 0x26 },
	{ 0x583f, 0x53 },
	{ 0x5840, 0x10 },
	{ 0x5841, 0x0f },
	{ 0x5842, 0x0d },
	{ 0x5843, 0x0c },
	{ 0x5844, 0x0e },
	{ 0x5845, 0x09 },
	{ 0x5846, 0x11 },
	{ 0x5847, 0x10 },
	{ 0x5848, 0x10 },
	{ 0x5849, 0x10 },
	{ 0x584a, 0x10 },
	{ 0x584b, 0x0e },
	{ 0x584c, 0x10 },
	{ 0x584d, 0x10 },
	{ 0x584e, 0x11 },
	{ 0x584f, 0x10 },
	{ 0x5850, 0x0f },
	{ 0x5851, 0x0c },
	{ 0x5852, 0x0f },
	{ 0x5853, 0x10 },
	{ 0x5854, 0x10 },
	{ 0x5855, 0x0f },
	{ 0x5856, 0x0e },
	{ 0x5857, 0x0b },
	{ 0x5858, 0x10 },
	{ 0x5859, 0x0d },
	{ 0x585a, 0x0d },
	{ 0x585b, 0x0c },
	{ 0x585c, 0x0c },
	{ 0x585d, 0x0c },
	{ 0x585e, 0x0b },
	{ 0x585f, 0x0c },
	{ 0x5860, 0x0c },
	{ 0x5861, 0x0c },
	{ 0x5862, 0x0d },
	{ 0x5863, 0x08 },
	{ 0x5864, 0x11 },
	{ 0x5865, 0x18 },
	{ 0x5866, 0x18 },
	{ 0x5867, 0x19 },
	{ 0x5868, 0x17 },
	{ 0x5869, 0x19 },
	{ 0x586a, 0x16 },
	{ 0x586b, 0x13 },
	{ 0x586c, 0x13 },
	{ 0x586d, 0x12 },
	{ 0x586e, 0x13 },
	{ 0x586f, 0x16 },
	{ 0x5870, 0x14 },
	{ 0x5871, 0x12 },
	{ 0x5872, 0x10 },
	{ 0x5873, 0x11 },
	{ 0x5874, 0x11 },
	{ 0x5875, 0x16 },
	{ 0x5876, 0x14 },
	{ 0x5877, 0x11 },
	{ 0x5878, 0x10 },
	{ 0x5879, 0x0f },
	{ 0x587a, 0x10 },
	{ 0x587b, 0x14 },
	{ 0x587c, 0x13 },
	{ 0x587d, 0x12 },
	{ 0x587e, 0x11 },
	{ 0x587f, 0x11 },
	{ 0x5880, 0x12 },
	{ 0x5881, 0x15 },
	{ 0x5882, 0x14 },
	{ 0x5883, 0x15 },
	{ 0x5884, 0x15 },
	{ 0x5885, 0x15 },
	{ 0x5886, 0x13 },
	{ 0x5887, 0x17 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x3a0f, 0x3e },
	{ 0x3a10, 0x32 },
	{ 0x3a1b, 0x40 },
	{ 0x3a1e, 0x30 },
	{ 0x3a11, 0x80 },
	{ 0x3a1f, 0x20 },
	{ 0x5025, 0x80 },
	{ 0x5000, 0x06 },
	{ 0x5001, 0x00 },
#if COLOR_BAR_EN == 1
	{ 0x503D, 0x80 },
#else
	{ 0x503D, 0x00 },
#endif
	//{ 0x471b, 0x01 }, /* hsync enable */
	//{ 0x4740, 0x01 }, /* h/v polarity */
	{ 0xffff, 0xff },
};

static const regval16_t ccir_raw_VGA[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x5c },
	{ 0x3003, 0x00 },
	{ 0x3004, 0xff },
	{ 0x3005, 0xff },
	{ 0x3006, 0x43 },
	{ 0x3007, 0x37 },
	{ 0x3011, 0x08 },
	{ 0x3012, 0x00 }, /* pre divider 1 */
	{ 0x3010, 0x10 },
	{ 0x460c, 0x22 },
	{ 0x3815, 0x04 },
	{ 0x370c, 0xa0 },
	{ 0x3602, 0xfc },
	{ 0x3612, 0xff },
	{ 0x3634, 0xc0 },
	{ 0x3613, 0x00 },
	{ 0x3605, 0x7c },
	{ 0x3621, 0x09 },
	{ 0x3622, 0x60 },
	{ 0x3604, 0x40 },
	{ 0x3603, 0xa7 },
	{ 0x3603, 0x27 },
	{ 0x4000, 0x21 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x5000, 0x4f },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5001, 0xff },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x3808, 0x02 },
	{ 0x3809, 0x80 },
	{ 0x380a, 0x01 },
	{ 0x380b, 0xe0 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x501f, 0x00 },
	{ 0x5000, 0x4f },
	{ 0x4300, 0x30 }, 
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x07 },
	{ 0x3824, 0x11 },
	{ 0x3501, 0x1e },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x7f },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x03 },
	{ 0x380f, 0xe8 },
	{ 0x3a0d, 0x04 },
	{ 0x3a0e, 0x03 },
	{ 0x3818, 0xc1 }, /* flip */
	{ 0x3705, 0xdb },
	{ 0x370a, 0x81 },
	{ 0x3801, 0x80 },
	{ 0x3621, 0x87 },
	{ 0x3801, 0x50 },
	{ 0x3803, 0x08 },
	{ 0x3827, 0x08 },
	{ 0x3810, 0x40 },
	{ 0x3804, 0x05 },
	{ 0x3805, 0x00 },
	{ 0x5682, 0x05 },
	{ 0x5683, 0x00 },
	{ 0x3806, 0x03 },
	{ 0x3807, 0xc0 },
	{ 0x5686, 0x03 },
	{ 0x5687, 0xbc },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x05 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x528a, 0x02 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x08 },
	{ 0x528e, 0x08 },
	{ 0x528f, 0x10 },
	{ 0x5290, 0x10 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x02 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x02 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x02 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x02 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x02 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x02 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x02 },
	{ 0x3a0f, 0x3c },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3c },
	{ 0x3a1e, 0x30 },
	{ 0x3a11, 0x70 },
	{ 0x3a1f, 0x10 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x5193, 0x70 },
	{ 0x589b, 0x04 },
	{ 0x589a, 0xc5 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x04 },
	{ 0x528a, 0x01 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x10 },
	{ 0x528e, 0x20 },
	{ 0x528f, 0x28 },
	{ 0x5290, 0x30 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x01 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x04 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x08 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x10 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x20 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x28 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x30 },
	{ 0x5282, 0x00 },
	{ 0x5300, 0x00 },
	{ 0x5301, 0x20 },
	{ 0x5302, 0x00 },
	{ 0x5303, 0x7c },
	{ 0x530c, 0x00 },
	{ 0x530d, 0x0c },
	{ 0x530e, 0x20 },
	{ 0x530f, 0x80 },
	{ 0x5310, 0x20 },
	{ 0x5311, 0x80 },
	{ 0x5308, 0x20 },
	{ 0x5309, 0x40 },
	{ 0x5304, 0x00 },
	{ 0x5305, 0x30 },
	{ 0x5306, 0x00 },
	{ 0x5307, 0x80 },
	{ 0x5314, 0x08 },
	{ 0x5315, 0x20 },
	{ 0x5319, 0x30 },
	{ 0x5316, 0x10 },
	{ 0x5317, 0x00 },
	{ 0x5318, 0x02 },
	{ 0x5380, 0x01 },
	{ 0x5381, 0x00 },
	{ 0x5382, 0x00 },
	{ 0x5383, 0x4e },
	{ 0x5384, 0x00 },
	{ 0x5385, 0x0f },
	{ 0x5386, 0x00 },
	{ 0x5387, 0x00 },
	{ 0x5388, 0x01 },
	{ 0x5389, 0x15 },
	{ 0x538a, 0x00 },
	{ 0x538b, 0x31 },
	{ 0x538c, 0x00 },
	{ 0x538d, 0x00 },
	{ 0x538e, 0x00 },
	{ 0x538f, 0x0f },
	{ 0x5390, 0x00 },
	{ 0x5391, 0xab },
	{ 0x5392, 0x00 },
	{ 0x5393, 0xa2 },
	{ 0x5394, 0x08 },
	{ 0x5480, 0x14 },
	{ 0x5481, 0x21 },
	{ 0x5482, 0x36 },
	{ 0x5483, 0x57 },
	{ 0x5484, 0x65 },
	{ 0x5485, 0x71 },
	{ 0x5486, 0x7d },
	{ 0x5487, 0x87 },
	{ 0x5488, 0x91 },
	{ 0x5489, 0x9a },
	{ 0x548a, 0xaa },
	{ 0x548b, 0xb8 },
	{ 0x548c, 0xcd },
	{ 0x548d, 0xdd },
	{ 0x548e, 0xea },
	{ 0x548f, 0x1d },
	{ 0x5490, 0x05 },
	{ 0x5491, 0x00 },
	{ 0x5492, 0x04 },
	{ 0x5493, 0x20 },
	{ 0x5494, 0x03 },
	{ 0x5495, 0x60 },
	{ 0x5496, 0x02 },
	{ 0x5497, 0xb8 },
	{ 0x5498, 0x02 },
	{ 0x5499, 0x86 },
	{ 0x549a, 0x02 },
	{ 0x549b, 0x5b },
	{ 0x549c, 0x02 },
	{ 0x549d, 0x3b },
	{ 0x549e, 0x02 },
	{ 0x549f, 0x1c },
	{ 0x54a0, 0x02 },
	{ 0x54a1, 0x04 },
	{ 0x54a2, 0x01 },
	{ 0x54a3, 0xed },
	{ 0x54a4, 0x01 },
	{ 0x54a5, 0xc5 },
	{ 0x54a6, 0x01 },
	{ 0x54a7, 0xa5 },
	{ 0x54a8, 0x01 },
	{ 0x54a9, 0x6c },
	{ 0x54aa, 0x01 },
	{ 0x54ab, 0x41 },
	{ 0x54ac, 0x01 },
	{ 0x54ad, 0x20 },
	{ 0x54ae, 0x00 },
	{ 0x54af, 0x16 },
	{ 0x54b0, 0x01 },
	{ 0x54b1, 0x20 },
	{ 0x54b2, 0x00 },
	{ 0x54b3, 0x10 },
	{ 0x54b4, 0x00 },
	{ 0x54b5, 0xf0 },
	{ 0x54b6, 0x00 },
	{ 0x54b7, 0xdf },
	{ 0x5402, 0x3f },
	{ 0x5403, 0x00 },
	{ 0x3406, 0x00 },
	{ 0x5180, 0xff },
	{ 0x5181, 0x52 },
	{ 0x5182, 0x11 },
	{ 0x5183, 0x14 },
	{ 0x5184, 0x25 },
	{ 0x5185, 0x24 },
	{ 0x5186, 0x06 },
	{ 0x5187, 0x08 },
	{ 0x5188, 0x08 },
	{ 0x5189, 0x7c },
	{ 0x518a, 0x60 },
	{ 0x518b, 0xb2 },
	{ 0x518c, 0xb2 },
	{ 0x518d, 0x44 },
	{ 0x518e, 0x3d },
	{ 0x518f, 0x58 },
	{ 0x5190, 0x46 },
	{ 0x5191, 0xf8 },
	{ 0x5192, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x5194, 0xf0 },
	{ 0x5195, 0xf0 },
	{ 0x5196, 0x03 },
	{ 0x5197, 0x01 },
	{ 0x5198, 0x04 },
	{ 0x5199, 0x12 },
	{ 0x519a, 0x04 },
	{ 0x519b, 0x00 },
	{ 0x519c, 0x06 },
	{ 0x519d, 0x82 },
	{ 0x519e, 0x00 },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x5688, 0xa6 },
	{ 0x5689, 0x6a },
	{ 0x568a, 0xea },
	{ 0x568b, 0xae },
	{ 0x568c, 0xa6 },
	{ 0x568d, 0x6a },
	{ 0x568e, 0x62 },
	{ 0x568f, 0x26 },
	{ 0x5583, 0x40 },
	{ 0x5584, 0x40 },
	{ 0x5580, 0x02 },
	{ 0x5000, 0xcf },
	{ 0x5800, 0x27 },
	{ 0x5801, 0x19 },
	{ 0x5802, 0x12 },
	{ 0x5803, 0x0f },
	{ 0x5804, 0x10 },
	{ 0x5805, 0x15 },
	{ 0x5806, 0x1e },
	{ 0x5807, 0x2f },
	{ 0x5808, 0x15 },
	{ 0x5809, 0x0d },
	{ 0x580a, 0x0a },
	{ 0x580b, 0x09 },
	{ 0x580c, 0x0a },
	{ 0x580d, 0x0c },
	{ 0x580e, 0x12 },
	{ 0x580f, 0x19 },
	{ 0x5810, 0x0b },
	{ 0x5811, 0x07 },
	{ 0x5812, 0x04 },
	{ 0x5813, 0x03 },
	{ 0x5814, 0x03 },
	{ 0x5815, 0x06 },
	{ 0x5816, 0x0a },
	{ 0x5817, 0x0f },
	{ 0x5818, 0x0a },
	{ 0x5819, 0x05 },
	{ 0x581a, 0x01 },
	{ 0x581b, 0x00 },
	{ 0x581c, 0x00 },
	{ 0x581d, 0x03 },
	{ 0x581e, 0x08 },
	{ 0x581f, 0x0c },
	{ 0x5820, 0x0a },
	{ 0x5821, 0x05 },
	{ 0x5822, 0x01 },
	{ 0x5823, 0x00 },
	{ 0x5824, 0x00 },
	{ 0x5825, 0x03 },
	{ 0x5826, 0x08 },
	{ 0x5827, 0x0c },
	{ 0x5828, 0x0e },
	{ 0x5829, 0x08 },
	{ 0x582a, 0x06 },
	{ 0x582b, 0x04 },
	{ 0x582c, 0x05 },
	{ 0x582d, 0x07 },
	{ 0x582e, 0x0b },
	{ 0x582f, 0x12 },
	{ 0x5830, 0x18 },
	{ 0x5831, 0x10 },
	{ 0x5832, 0x0c },
	{ 0x5833, 0x0a },
	{ 0x5834, 0x0b },
	{ 0x5835, 0x0e },
	{ 0x5836, 0x15 },
	{ 0x5837, 0x19 },
	{ 0x5838, 0x32 },
	{ 0x5839, 0x1f },
	{ 0x583a, 0x18 },
	{ 0x583b, 0x16 },
	{ 0x583c, 0x17 },
	{ 0x583d, 0x1e },
	{ 0x583e, 0x26 },
	{ 0x583f, 0x53 },
	{ 0x5840, 0x10 },
	{ 0x5841, 0x0f },
	{ 0x5842, 0x0d },
	{ 0x5843, 0x0c },
	{ 0x5844, 0x0e },
	{ 0x5845, 0x09 },
	{ 0x5846, 0x11 },
	{ 0x5847, 0x10 },
	{ 0x5848, 0x10 },
	{ 0x5849, 0x10 },
	{ 0x584a, 0x10 },
	{ 0x584b, 0x0e },
	{ 0x584c, 0x10 },
	{ 0x584d, 0x10 },
	{ 0x584e, 0x11 },
	{ 0x584f, 0x10 },
	{ 0x5850, 0x0f },
	{ 0x5851, 0x0c },
	{ 0x5852, 0x0f },
	{ 0x5853, 0x10 },
	{ 0x5854, 0x10 },
	{ 0x5855, 0x0f },
	{ 0x5856, 0x0e },
	{ 0x5857, 0x0b },
	{ 0x5858, 0x10 },
	{ 0x5859, 0x0d },
	{ 0x585a, 0x0d },
	{ 0x585b, 0x0c },
	{ 0x585c, 0x0c },
	{ 0x585d, 0x0c },
	{ 0x585e, 0x0b },
	{ 0x585f, 0x0c },
	{ 0x5860, 0x0c },
	{ 0x5861, 0x0c },
	{ 0x5862, 0x0d },
	{ 0x5863, 0x08 },
	{ 0x5864, 0x11 },
	{ 0x5865, 0x18 },
	{ 0x5866, 0x18 },
	{ 0x5867, 0x19 },
	{ 0x5868, 0x17 },
	{ 0x5869, 0x19 },
	{ 0x586a, 0x16 },
	{ 0x586b, 0x13 },
	{ 0x586c, 0x13 },
	{ 0x586d, 0x12 },
	{ 0x586e, 0x13 },
	{ 0x586f, 0x16 },
	{ 0x5870, 0x14 },
	{ 0x5871, 0x12 },
	{ 0x5872, 0x10 },
	{ 0x5873, 0x11 },
	{ 0x5874, 0x11 },
	{ 0x5875, 0x16 },
	{ 0x5876, 0x14 },
	{ 0x5877, 0x11 },
	{ 0x5878, 0x10 },
	{ 0x5879, 0x0f },
	{ 0x587a, 0x10 },
	{ 0x587b, 0x14 },
	{ 0x587c, 0x13 },
	{ 0x587d, 0x12 },
	{ 0x587e, 0x11 },
	{ 0x587f, 0x11 },
	{ 0x5880, 0x12 },
	{ 0x5881, 0x15 },
	{ 0x5882, 0x14 },
	{ 0x5883, 0x15 },
	{ 0x5884, 0x15 },
	{ 0x5885, 0x15 },
	{ 0x5886, 0x13 },
	{ 0x5887, 0x17 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x3010, 0x00 },
	{ 0x3804, 0x05 },
	{ 0x3805, 0x10 },
	{ 0x5682, 0x05 },
	{ 0x5683, 0x10 },
	{ 0x3806, 0x03 },
	{ 0x3807, 0xcc },
	{ 0x5686, 0x03 },
	{ 0x5687, 0xc8 },
	{ 0x3808, 0x05 },
	{ 0x3809, 0x10 },
	{ 0x380a, 0x03 },
	{ 0x380b, 0xcc },
	{ 0x5025, 0x80 },
	{ 0x3824, 0x13 },
	{ 0x3825, 0x50 },
	{ 0x370d, 0x4b },
	{ 0x3613, 0x80 },
	{ 0x3a0f, 0x3e },
	{ 0x3a10, 0x32 },
	{ 0x3a1b, 0x40 },
	{ 0x3a1e, 0x30 },
	{ 0x3a11, 0x80 },
	{ 0x3a1f, 0x20 },
	{ 0x460c, 0x20 },
	{ 0x501f, 0x03 },
	{ 0x4300, OV5642_BGGR },
	{ 0x5000, 0x06 },
	{ 0x5001, 0x00 },
#if COLOR_BAR_EN == 1
	{ 0x503D, 0x80 },
#else
	{ 0x503D, 0x00 },
#endif		
    //{ 0x471b, 0x01 }, /* hsync enable */
	//{ 0x4740, 0x03 }, /* h/v polarity */
	{ 0xffff, 0xff },	
};

static const regval16_t ccir_yuv_720P[] =
{
	{ 0x3103, 0x93 },
	{ 0x3008, 0x82 },
	{ 0x3017, 0x7f },
	{ 0x3018, 0xfc },
	{ 0x3810, 0xc2 },
	{ 0x3615, 0xf0 },
	{ 0x3000, 0x00 },
	{ 0x3001, 0x00 },
	{ 0x3002, 0x00 },
	{ 0x3003, 0x00 },
	{ 0x3004, 0xff },
	{ 0x3030, 0x2b },
	{ 0x3011, 0x08 },
	{ 0x3010, 0x10 },
	{ 0x3604, 0x60 },
	{ 0x3622, 0x60 },
	{ 0x3621, 0x09 },
	{ 0x3709, 0x00 },
	{ 0x4000, 0x21 },
	{ 0x401d, 0x22 },
	{ 0x3600, 0x54 },
	{ 0x3605, 0x04 },
	{ 0x3606, 0x3f },
	{ 0x3c01, 0x80 },
	{ 0x300d, 0x22 },
	{ 0x3623, 0x22 },
	{ 0x5000, 0x4f },
	{ 0x5020, 0x04 },
	{ 0x5181, 0x79 },
	{ 0x5182, 0x00 },
	{ 0x5185, 0x22 },
	{ 0x5197, 0x01 },
	{ 0x5500, 0x0a },
	{ 0x5504, 0x00 },
	{ 0x5505, 0x7f },
	{ 0x5080, 0x08 },
	{ 0x300e, 0x18 },
	{ 0x4610, 0x00 },
	{ 0x471d, 0x05 },
	{ 0x4708, 0x06 },
	{ 0x370c, 0xa0 },
	{ 0x3808, 0x0a },
	{ 0x3809, 0x20 },
	{ 0x380a, 0x07 },
	{ 0x380b, 0x98 },
	{ 0x380c, 0x0c },
	{ 0x380d, 0x80 },
	{ 0x380e, 0x07 },
	{ 0x380f, 0xd0 },
	{ 0x5687, 0x94 },
	{ 0x501f, 0x00 },
	{ 0x5000, 0x4f },
	{ 0x5001, 0xcf },
	{ 0x4300, OV5642_UYVY }, /* format to YVYU */
	{ 0x4300, OV5642_UYVY }, /* format to YVYU */
	{ 0x460b, 0x35 },
	{ 0x471d, 0x00 },
	{ 0x3002, 0x0c },
	{ 0x3002, 0x00 },
	{ 0x4713, 0x03 },
	{ 0x471c, 0x50 },
	{ 0x4721, 0x02 },
	{ 0x4402, 0x90 },
	{ 0x460c, 0x22 },
	{ 0x3815, 0x44 },
	{ 0x3503, 0x07 },
	{ 0x3501, 0x73 },
	{ 0x3502, 0x80 },
	{ 0x350b, 0x00 },
	{ 0x3818, 0xc8 },
	{ 0x3801, 0x88 },
	{ 0x3824, 0x11 },
	{ 0x3a00, 0x78 },
	{ 0x3a1a, 0x04 },
	{ 0x3a13, 0x30 },
	{ 0x3a18, 0x00 },
	{ 0x3a19, 0x7c },
	{ 0x3a08, 0x12 },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x0f },
	{ 0x3a0b, 0xa0 },
	{ 0x350c, 0x07 },
	{ 0x350d, 0xd0 },
	{ 0x3a0d, 0x08 },
	{ 0x3a0e, 0x06 },
	{ 0x3500, 0x00 },
	{ 0x3501, 0x00 },
	{ 0x3502, 0x00 },
	{ 0x350a, 0x00 },
	{ 0x350b, 0x00 },
	{ 0x3503, 0x00 },
	{ 0x3a0f, 0x3c },
	{ 0x3a10, 0x32 },
	{ 0x3a1b, 0x3c },
	{ 0x3a1e, 0x32 },
	{ 0x3a11, 0x80 },
	{ 0x3a1f, 0x20 },
	{ 0x3030, 0x2b },
	{ 0x3a02, 0x00 },
	{ 0x3a03, 0x7d },
	{ 0x3a04, 0x00 },
	{ 0x3a14, 0x00 },
	{ 0x3a15, 0x7d },
	{ 0x3a16, 0x00 },
	{ 0x3a00, 0x78 },
	{ 0x3a08, 0x09 },
	{ 0x3a09, 0x60 },
	{ 0x3a0a, 0x07 },
	{ 0x3a0b, 0xd0 },
	{ 0x3a0d, 0x10 },
	{ 0x3a0e, 0x0d },
	{ 0x4407, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x589b, 0x00 },
	{ 0x589a, 0xc0 },
	{ 0x4001, 0x42 },
	{ 0x401c, 0x06 },
	{ 0x3825, 0xac },
	{ 0x3827, 0x0c },
	{ 0x528a, 0x01 },
	{ 0x528b, 0x04 },
	{ 0x528c, 0x08 },
	{ 0x528d, 0x10 },
	{ 0x528e, 0x20 },
	{ 0x528f, 0x28 },
	{ 0x5290, 0x30 },
	{ 0x5292, 0x00 },
	{ 0x5293, 0x01 },
	{ 0x5294, 0x00 },
	{ 0x5295, 0x04 },
	{ 0x5296, 0x00 },
	{ 0x5297, 0x08 },
	{ 0x5298, 0x00 },
	{ 0x5299, 0x10 },
	{ 0x529a, 0x00 },
	{ 0x529b, 0x20 },
	{ 0x529c, 0x00 },
	{ 0x529d, 0x28 },
	{ 0x529e, 0x00 },
	{ 0x529f, 0x30 },
	{ 0x5282, 0x00 },
	{ 0x5300, 0x00 },
	{ 0x5301, 0x20 },
	{ 0x5302, 0x00 },
	{ 0x5303, 0x7c },
	{ 0x530c, 0x00 },
	{ 0x530d, 0x0c },
	{ 0x530e, 0x20 },
	{ 0x530f, 0x80 },
	{ 0x5310, 0x20 },
	{ 0x5311, 0x80 },
	{ 0x5308, 0x20 },
	{ 0x5309, 0x40 },
	{ 0x5304, 0x00 },
	{ 0x5305, 0x30 },
	{ 0x5306, 0x00 },
	{ 0x5307, 0x80 },
	{ 0x5314, 0x08 },
	{ 0x5315, 0x20 },
	{ 0x5319, 0x30 },
	{ 0x5316, 0x10 },
	{ 0x5317, 0x00 },
	{ 0x5318, 0x02 },
	{ 0x5380, 0x01 },
	{ 0x5381, 0x00 },
	{ 0x5382, 0x00 },
	{ 0x5383, 0x4e },
	{ 0x5384, 0x00 },
	{ 0x5385, 0x0f },
	{ 0x5386, 0x00 },
	{ 0x5387, 0x00 },
	{ 0x5388, 0x01 },
	{ 0x5389, 0x15 },
	{ 0x538a, 0x00 },
	{ 0x538b, 0x31 },
	{ 0x538c, 0x00 },
	{ 0x538d, 0x00 },
	{ 0x538e, 0x00 },
	{ 0x538f, 0x0f },
	{ 0x5390, 0x00 },
	{ 0x5391, 0xab },
	{ 0x5392, 0x00 },
	{ 0x5393, 0xa2 },
	{ 0x5394, 0x08 },
	{ 0x5480, 0x14 },
	{ 0x5481, 0x21 },
	{ 0x5482, 0x36 },
	{ 0x5483, 0x57 },
	{ 0x5484, 0x65 },
	{ 0x5485, 0x71 },
	{ 0x5486, 0x7d },
	{ 0x5487, 0x87 },
	{ 0x5488, 0x91 },
	{ 0x5489, 0x9a },
	{ 0x548a, 0xaa },
	{ 0x548b, 0xb8 },
	{ 0x548c, 0xcd },
	{ 0x548d, 0xdd },
	{ 0x548e, 0xea },
	{ 0x548f, 0x1d },
	{ 0x5490, 0x05 },
	{ 0x5491, 0x00 },
	{ 0x5492, 0x04 },
	{ 0x5493, 0x20 },
	{ 0x5494, 0x03 },
	{ 0x5495, 0x60 },
	{ 0x5496, 0x02 },
	{ 0x5497, 0xb8 },
	{ 0x5498, 0x02 },
	{ 0x5499, 0x86 },
	{ 0x549a, 0x02 },
	{ 0x549b, 0x5b },
	{ 0x549c, 0x02 },
	{ 0x549d, 0x3b },
	{ 0x549e, 0x02 },
	{ 0x549f, 0x1c },
	{ 0x54a0, 0x02 },
	{ 0x54a1, 0x04 },
	{ 0x54a2, 0x01 },
	{ 0x54a3, 0xed },
	{ 0x54a4, 0x01 },
	{ 0x54a5, 0xc5 },
	{ 0x54a6, 0x01 },
	{ 0x54a7, 0xa5 },
	{ 0x54a8, 0x01 },
	{ 0x54a9, 0x6c },
	{ 0x54aa, 0x01 },
	{ 0x54ab, 0x41 },
	{ 0x54ac, 0x01 },
	{ 0x54ad, 0x20 },
	{ 0x54ae, 0x00 },
	{ 0x54af, 0x16 },
	{ 0x54b0, 0x01 },
	{ 0x54b1, 0x20 },
	{ 0x54b2, 0x00 },
	{ 0x54b3, 0x10 },
	{ 0x54b4, 0x00 },
	{ 0x54b5, 0xf0 },
	{ 0x54b6, 0x00 },
	{ 0x54b7, 0xdf },
	{ 0x5402, 0x3f },
	{ 0x5403, 0x00 },
	{ 0x3406, 0x00 },
	{ 0x5180, 0xff },
	{ 0x5181, 0x52 },
	{ 0x5182, 0x11 },
	{ 0x5183, 0x14 },
	{ 0x5184, 0x25 },
	{ 0x5185, 0x24 },
	{ 0x5186, 0x06 },
	{ 0x5187, 0x08 },
	{ 0x5188, 0x08 },
	{ 0x5189, 0x7c },
	{ 0x518a, 0x60 },
	{ 0x518b, 0xb2 },
	{ 0x518c, 0xb2 },
	{ 0x518d, 0x44 },
	{ 0x518e, 0x3d },
	{ 0x518f, 0x58 },
	{ 0x5190, 0x46 },
	{ 0x5191, 0xf8 },
	{ 0x5192, 0x04 },
	{ 0x5193, 0x70 },
	{ 0x5194, 0xf0 },
	{ 0x5195, 0xf0 },
	{ 0x5196, 0x03 },
	{ 0x5197, 0x01 },
	{ 0x5198, 0x04 },
	{ 0x5199, 0x12 },
	{ 0x519a, 0x04 },
	{ 0x519b, 0x00 },
	{ 0x519c, 0x06 },
	{ 0x519d, 0x82 },
	{ 0x519e, 0x00 },
	{ 0x5025, 0x80 },
	{ 0x3a0f, 0x38 },
	{ 0x3a10, 0x30 },
	{ 0x3a1b, 0x3a },
	{ 0x3a1e, 0x2e },
	{ 0x3a11, 0x60 },
	{ 0x3a1f, 0x10 },
	{ 0x5688, 0xa6 },
	{ 0x5689, 0x6a },
	{ 0x568a, 0xea },
	{ 0x568b, 0xae },
	{ 0x568c, 0xa6 },
	{ 0x568d, 0x6a },
	{ 0x568e, 0x62 },
	{ 0x568f, 0x26 },
	{ 0x5583, 0x40 },
	{ 0x5584, 0x40 },
	{ 0x5580, 0x02 },
	{ 0x5000, 0xcf },
	{ 0x5800, 0x27 },
	{ 0x5801, 0x19 },
	{ 0x5802, 0x12 },
	{ 0x5803, 0x0f },
	{ 0x5804, 0x10 },
	{ 0x5805, 0x15 },
	{ 0x5806, 0x1e },
	{ 0x5807, 0x2f },
	{ 0x5808, 0x15 },
	{ 0x5809, 0x0d },
	{ 0x580a, 0x0a },
	{ 0x580b, 0x09 },
	{ 0x580c, 0x0a },
	{ 0x580d, 0x0c },
	{ 0x580e, 0x12 },
	{ 0x580f, 0x19 },
	{ 0x5810, 0x0b },
	{ 0x5811, 0x07 },
	{ 0x5812, 0x04 },
	{ 0x5813, 0x03 },
	{ 0x5814, 0x03 },
	{ 0x5815, 0x06 },
	{ 0x5816, 0x0a },
	{ 0x5817, 0x0f },
	{ 0x5818, 0x0a },
	{ 0x5819, 0x05 },
	{ 0x581a, 0x01 },
	{ 0x581b, 0x00 },
	{ 0x581c, 0x00 },
	{ 0x581d, 0x03 },
	{ 0x581e, 0x08 },
	{ 0x581f, 0x0c },
	{ 0x5820, 0x0a },
	{ 0x5821, 0x05 },
	{ 0x5822, 0x01 },
	{ 0x5823, 0x00 },
	{ 0x5824, 0x00 },
	{ 0x5825, 0x03 },
	{ 0x5826, 0x08 },
	{ 0x5827, 0x0c },
	{ 0x5828, 0x0e },
	{ 0x5829, 0x08 },
	{ 0x582a, 0x06 },
	{ 0x582b, 0x04 },
	{ 0x582c, 0x05 },
	{ 0x582d, 0x07 },
	{ 0x582e, 0x0b },
	{ 0x582f, 0x12 },
	{ 0x5830, 0x18 },
	{ 0x5831, 0x10 },
	{ 0x5832, 0x0c },
	{ 0x5833, 0x0a },
	{ 0x5834, 0x0b },
	{ 0x5835, 0x0e },
	{ 0x5836, 0x15 },
	{ 0x5837, 0x19 },
	{ 0x5838, 0x32 },
	{ 0x5839, 0x1f },
	{ 0x583a, 0x18 },
	{ 0x583b, 0x16 },
	{ 0x583c, 0x17 },
	{ 0x583d, 0x1e },
	{ 0x583e, 0x26 },
	{ 0x583f, 0x53 },
	{ 0x5840, 0x10 },
	{ 0x5841, 0x0f },
	{ 0x5842, 0x0d },
	{ 0x5843, 0x0c },
	{ 0x5844, 0x0e },
	{ 0x5845, 0x09 },
	{ 0x5846, 0x11 },
	{ 0x5847, 0x10 },
	{ 0x5848, 0x10 },
	{ 0x5849, 0x10 },
	{ 0x584a, 0x10 },
	{ 0x584b, 0x0e },
	{ 0x584c, 0x10 },
	{ 0x584d, 0x10 },
	{ 0x584e, 0x11 },
	{ 0x584f, 0x10 },
	{ 0x5850, 0x0f },
	{ 0x5851, 0x0c },
	{ 0x5852, 0x0f },
	{ 0x5853, 0x10 },
	{ 0x5854, 0x10 },
	{ 0x5855, 0x0f },
	{ 0x5856, 0x0e },
	{ 0x5857, 0x0b },
	{ 0x5858, 0x10 },
	{ 0x5859, 0x0d },
	{ 0x585a, 0x0d },
	{ 0x585b, 0x0c },
	{ 0x585c, 0x0c },
	{ 0x585d, 0x0c },
	{ 0x585e, 0x0b },
	{ 0x585f, 0x0c },
	{ 0x5860, 0x0c },
	{ 0x5861, 0x0c },
	{ 0x5862, 0x0d },
	{ 0x5863, 0x08 },
	{ 0x5864, 0x11 },
	{ 0x5865, 0x18 },
	{ 0x5866, 0x18 },
	{ 0x5867, 0x19 },
	{ 0x5868, 0x17 },
	{ 0x5869, 0x19 },
	{ 0x586a, 0x16 },
	{ 0x586b, 0x13 },
	{ 0x586c, 0x13 },
	{ 0x586d, 0x12 },
	{ 0x586e, 0x13 },
	{ 0x586f, 0x16 },
	{ 0x5870, 0x14 },
	{ 0x5871, 0x12 },
	{ 0x5872, 0x10 },
	{ 0x5873, 0x11 },
	{ 0x5874, 0x11 },
	{ 0x5875, 0x16 },
	{ 0x5876, 0x14 },
	{ 0x5877, 0x11 },
	{ 0x5878, 0x10 },
	{ 0x5879, 0x0f },
	{ 0x587a, 0x10 },
	{ 0x587b, 0x14 },
	{ 0x587c, 0x13 },
	{ 0x587d, 0x12 },
	{ 0x587e, 0x11 },
	{ 0x587f, 0x11 },
	{ 0x5880, 0x12 },
	{ 0x5881, 0x15 },
	{ 0x5882, 0x14 },
	{ 0x5883, 0x15 },
	{ 0x5884, 0x15 },
	{ 0x5885, 0x15 },
	{ 0x5886, 0x13 },
	{ 0x5887, 0x17 },
	{ 0x3710, 0x10 },
	{ 0x3632, 0x51 },
	{ 0x3702, 0x10 },
	{ 0x3703, 0xb2 },
	{ 0x3704, 0x18 },
	{ 0x370b, 0x40 },
	{ 0x370d, 0x03 },
	{ 0x3631, 0x01 },
	{ 0x3632, 0x52 },
	{ 0x3606, 0x24 },
	{ 0x3620, 0x96 },
	{ 0x5785, 0x07 },
	{ 0x3a13, 0x30 },
	{ 0x3600, 0x52 },
	{ 0x3604, 0x48 },
	{ 0x3606, 0x1b },
	{ 0x370d, 0x0b },
	{ 0x370f, 0xc0 },
	{ 0x3709, 0x01 },
	{ 0x3823, 0x00 },
	{ 0x5007, 0x00 },
	{ 0x5009, 0x00 },
	{ 0x5011, 0x00 },
	{ 0x5013, 0x00 },
	{ 0x519e, 0x00 },
	{ 0x5086, 0x00 },
	{ 0x5087, 0x00 },
	{ 0x5088, 0x00 },
	{ 0x5089, 0x00 },
	{ 0x302b, 0x00 },
	{ 0x3503, 0x07 },
	{ 0x3011, 0x08 },
	{ 0x350c, 0x02 },
	{ 0x350d, 0xe4 },
	{ 0x3621, 0xc9 },
	{ 0x370a, 0x81 },
	{ 0x3803, 0x08 },
	{ 0x3804, 0x05 },
	{ 0x3805, 0x00 },
	{ 0x3806, 0x02 },
	{ 0x3807, 0xd0 },
	{ 0x3808, 0x05 },
	{ 0x3809, 0x00 },
	{ 0x380a, 0x02 },
	{ 0x380b, 0xd0 },
	{ 0x380c, 0x08 },
	{ 0x380d, 0x72 },
	{ 0x380e, 0x02 },
	{ 0x380f, 0xe4 },
	{ 0x3810, 0xc0 },
	{ 0x3818, 0xc9 },
	{ 0x381c, 0x10 },
	{ 0x381d, 0xa0 },
	{ 0x381e, 0x05 },
	{ 0x381f, 0xb0 },
	{ 0x3820, 0x00 },
	{ 0x3821, 0x00 },
	{ 0x3824, 0x11 },
	{ 0x3a08, 0x1b },
	{ 0x3a09, 0xc0 },
	{ 0x3a0a, 0x17 },
	{ 0x3a0b, 0x20 },
	{ 0x3a0d, 0x02 },
	{ 0x3a0e, 0x01 },
	{ 0x401c, 0x04 },
	{ 0x5682, 0x05 },
	{ 0x5683, 0x00 },
	{ 0x5686, 0x02 },
	{ 0x5687, 0xcc },
	{ 0x5001, 0x7f },
	{ 0x589b, 0x06 },
	{ 0x589a, 0xc5 },
	{ 0x3503, 0x00 },
	{ 0x460c, 0x20 },
	{ 0x460b, 0x37 },
	{ 0x471c, 0xd0 },
	{ 0x471d, 0x05 },
	{ 0x3815, 0x01 },
	{ 0x3818, 0xc1 },
	{ 0x501f, 0x00 },
	{ 0x5002, 0xe0 },
	{ 0x4300, OV5642_UYVY },/* format to YVYU */
	{ 0x3002, 0x1c },
	{ 0x4800, 0x14 },
#if COLOR_BAR_EN == 1
	{ 0x503D, 0x80 },
#else
	{ 0x503D, 0x00 },
#endif	
	//{ 0x471b, 0x01 }, /* hsync enable */
	//{ 0x4740, 0x01 }, /* h/v polarity */	
	{ 0xffff, 0xff },
};


static const regval16_t ov5642_resume_table[] = 
{
	{0xffff, 0xff},	//end
};

static const regval16_t ov5642_suspend_table[] = 
{
	{0xffff, 0xff},	//end
};

/**************************************************************************
 *             F U N C T I O N    I M P L E M E N T A T I O N S           *
 **************************************************************************/
static int
sensor_i2c_open(
	unsigned int slave_id,
	unsigned int scl_speed
)
{
#if (I2C_MODE == HW_I2C)
	g_i2c_handle = gp_i2c_bus_request(slave_id, scl_speed);
	if((g_i2c_handle == 0) ||(g_i2c_handle == -ENOMEM)) {
		printk(KERN_WARNING "i2cReqFail %d\n", g_i2c_handle);
		return -1;
	}

	return 0;

#elif (I2C_MODE == HW_TI2C)
	g_ti2c_handle.pDeviceString = "OV5642";		
	g_ti2c_handle.slaveAddrMode = TI2C_NORMAL_SLAVEADDR_8BITS;		
	g_ti2c_handle.slaveAddr = slave_id;		
	g_ti2c_handle.clockRate = scl_speed;
	if (gp_ti2c_bus_request(&g_ti2c_handle) != 0) {
		printk("OV5642 ti2c request failed\n");
		return -1;
	}

	return 0;
#endif
}

static int
sensor_i2c_close(
	void
)
{
#if (I2C_MODE == HW_I2C)
	return gp_i2c_bus_release(g_i2c_handle);
#elif (I2C_MODE == HW_TI2C)
	return gp_ti2c_bus_release(&g_ti2c_handle);
#endif
}

static int
sensor_i2c_read(	
	unsigned short reg,
	unsigned char *value
)
{
#if (I2C_MODE == HW_I2C)
	unsigned char addr[2], data[1];
	int nRet;
	
	addr[0] = (reg >> 8) & 0xFF;
	addr[1] = reg & 0xFF;
	nRet = gp_i2c_bus_write(g_i2c_handle, addr, 2);
	if(nRet <= 0) {
		return nRet;
	}
	
	nRet = gp_i2c_bus_read(g_i2c_handle, data, 1);
	*value = data[0];
	return nRet;
	
#elif (I2C_MODE == HW_TI2C)
	unsigned char addr[2], data[1];
	int nRet;
	
	addr[0] = (reg >> 8) & 0xFF;
	addr[1] = reg & 0xFF;	
	g_ti2c_handle.transmitMode = TI2C_NORMAL_WRITE_MODE;	
	g_ti2c_handle.pBuf = addr;	
	g_ti2c_handle.dataCnt = 2;	
	nRet = gp_ti2c_bus_xfer(&g_ti2c_handle);
	if(nRet <= 0) {
		return nRet;
	}
	
	g_ti2c_handle.transmitMode = TI2C_NORMAL_READ_MODE;	
	g_ti2c_handle.pBuf = data;	
	g_ti2c_handle.dataCnt = 1;	
	nRet = gp_ti2c_bus_xfer(&g_ti2c_handle);
	*value = data[0];
	return nRet;
#endif
}

static int
sensor_i2c_write(	
	unsigned short reg,
	unsigned char value
)
{
#if (I2C_MODE == HW_I2C)
	unsigned char data[3];

	data[0] = (reg >> 8) & 0xFF;
	data[1] = reg & 0xFF;
	data[2] = value;	
	return gp_i2c_bus_write(g_i2c_handle, data, 3);
	
#elif (I2C_MODE == HW_TI2C)
	unsigned char data[3];

	data[0] = (reg >> 8) & 0xFF;
	data[1] = reg & 0xFF;
	data[2] = value;	
	g_ti2c_handle.transmitMode = TI2C_NORMAL_WRITE_MODE;	
	g_ti2c_handle.pBuf = data;	
	g_ti2c_handle.dataCnt = 3;	
	return gp_ti2c_bus_xfer(&g_ti2c_handle);
#endif
}

static int
sensor_write_table(
	regval16_t *vals
)
{
	int i, nRet;
	
	while (vals->reg_num != 0xffff || vals->value != 0xff) {
		for(i = 0; i< 10; i++) {
		#ifdef CONFIG_FPGA_TEST	
			printk("0x%x, 0x%x\n", vals->reg_num, vals->value);
		#endif
			nRet = sensor_i2c_write(vals->reg_num, vals->value);
			if(nRet >= 0) {
			#if 0
				unsigned char value;
				sensor_i2c_read(vals->reg_num, &value);
				printk("0x%x, 0x%x\n", vals->reg_num, value);
			#endif
				break;
			} else {
				printk("I2C Fail\n");
			}
		}
		if(i == 10) return -1;
		vals++;
	}
	return 0;
}

static int 
sensor_init(
	struct v4l2_subdev *sd,
	u32 val
)
{
	printk("%s\n", __FUNCTION__);
	return 0;
}

static int 
sensor_reset(
	struct v4l2_subdev *sd, 
	u32 val
)
{
	return 0;
}

static int 
sensor_queryctrl(
	struct v4l2_subdev *sd,
	struct v4l2_queryctrl *qc
)
{
	/* Fill in min, max, step and default value for these controls. */
	switch(qc->id)
	{
	case V4L2_CID_BRIGHTNESS:
		qc->minimum = 0;
		qc->maximum = 255;
		qc->step = 1;
		qc->default_value = 128;
		break;
			
	case V4L2_CID_CONTRAST:
		qc->minimum = 0;
		qc->maximum = 127;
		qc->step = 1;
		qc->default_value = 64;
		break;

	case V4L2_CID_VFLIP:
		qc->minimum = 0;
		qc->maximum = 1;
		qc->step = 1;
		qc->default_value = 0;
		break;
	
	case V4L2_CID_HFLIP:
		qc->minimum = 0;
		qc->maximum = 1;
		qc->step = 1;
		qc->default_value = 0;
		break;
	
	case V4L2_CID_SATURATION:
		qc->minimum = 0;
		qc->maximum = 256;
		qc->step = 1;
		qc->default_value = 128;
		break;
	
	case V4L2_CID_HUE:
		qc->minimum = -180;
		qc->maximum = 180;
		qc->step = 5;
		qc->default_value = 0;
		break;
		
	case V4L2_CID_AUTO_WHITE_BALANCE:
		qc->minimum = 0;
		qc->maximum = 1;
		qc->step = 1;
		qc->default_value = 1;
		break;

	case V4L2_CID_POWER_LINE_FREQUENCY:
		qc->minimum = 50;
		qc->maximum = 60;
		qc->step = 10;
		qc->default_value = 50;
		break;
	
	case V4L2_CID_WHITE_BALANCE_TEMPERATURE:
		qc->minimum = 0;
		qc->maximum = 3;
		qc->step = 1;
		qc->default_value = 0;
		break;

	case V4L2_CID_BACKLIGHT_COMPENSATION:
		qc->minimum = 0;
		qc->maximum = 1;
		qc->step = 1;
		qc->default_value = 0;
		break;

	default:
		return -EINVAL;
	}
	return 0;
}

static int 
sensor_g_ctrl(
	struct v4l2_subdev *sd, 
	struct v4l2_control *ctrl
)
{	
	switch(ctrl->id)
	{
	case V4L2_CID_AUTO_WHITE_BALANCE:
		break;

	case V4L2_CID_POWER_LINE_FREQUENCY:
		break;

	case V4L2_CID_WHITE_BALANCE_TEMPERATURE:
		break;

	case V4L2_CID_BACKLIGHT_COMPENSATION:	
		break;
		
	default:
		return -EINVAL;
	}

	return 0;
}

static int 
sensor_s_ctrl(
	struct v4l2_subdev *sd, 
	struct v4l2_control *ctrl
)
{
	switch(ctrl->id)
	{
	case V4L2_CID_AUTO_WHITE_BALANCE:
		break;

	case V4L2_CID_POWER_LINE_FREQUENCY:
		break;
		
	case V4L2_CID_WHITE_BALANCE_TEMPERATURE:
		break; 
 
	case V4L2_CID_BACKLIGHT_COMPENSATION:
		break;

	default:
		return -EINVAL;
	}
	
	return 0; 
}

static int 
sensor_querystd(
	struct v4l2_subdev *sd,
	v4l2_std_id *std
)
{
	return 0;
}

static int 
sensor_enum_fmt(
	struct v4l2_subdev *sd, 
	struct v4l2_fmtdesc *fmtdesc
)
{
	printk("%s\n", __FUNCTION__);
	if(fmtdesc->index >= C_SENSOR_FMT_MAX)
		return -EINVAL;
	
	fmtdesc->type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
	memcpy((void *)fmtdesc->description, (void *)g_fmt_table[fmtdesc->index].desc, 32);
	fmtdesc->pixelformat = g_fmt_table[fmtdesc->index].pixelformat;
	return 0;
}

static int 
sensor_g_fmt(
	struct v4l2_subdev *sd, 
	struct v4l2_format *fmt
)
{
	printk("%s\n", __FUNCTION__);
	fmt->fmt.pix.width = g_sensor_dev.fmt->hpixel;
	fmt->fmt.pix.height = g_sensor_dev.fmt->vline;
	fmt->fmt.pix.pixelformat = g_sensor_dev.fmt->pixelformat;
	fmt->fmt.pix.field = V4L2_FIELD_NONE;
	fmt->fmt.pix.bytesperline = g_sensor_dev.fmt->hpixel * g_sensor_dev.fmt->bpp;
	fmt->fmt.pix.sizeimage = fmt->fmt.pix.bytesperline * g_sensor_dev.fmt->vline;

	return 0;
}

static int 
sensor_try_fmt(
	struct v4l2_subdev *sd,
	struct v4l2_format *fmt
)
{
	printk("%s\n", __FUNCTION__);
	return 0;
}

static int 
sensor_s_fmt(
	struct v4l2_subdev *sd, 
	struct v4l2_format *fmt
)
{
	int nRet = 0;

	printk("%s\n", __FUNCTION__);
	printk("%s\n", g_fmt_table[fmt->fmt.pix.priv].desc);

	switch(fmt->fmt.pix.priv)
	{
		case 0:
			nRet = sensor_write_table((regval16_t *)ccir_yuv_720P);	
			break;
			
		case 1:
			nRet = sensor_write_table((regval16_t *)ccir_raw_VGA);	
			break;
		case 2:
			nRet = sensor_write_table((regval16_t *)ccir_raw_5M);
			break;
		case 3:
			nRet = sensor_write_table((regval16_t *)mipi_yuv_VGA);
			break;
		case 4:
			nRet = sensor_write_table((regval16_t *)mipi_yuv_720P);
			break;
		case 5:
			nRet = sensor_write_table((regval16_t *)mipi_raw_5M);
			break;
	}

	g_sensor_dev.fmt = &g_fmt_table[fmt->fmt.pix.priv];
	return nRet;
}

static int 
sensor_cropcap(
	struct v4l2_subdev *sd,
	struct v4l2_cropcap *cc
)
{
	printk("%s\n", __FUNCTION__);
	return 0;
}


static int 
sensor_g_crop(
	struct v4l2_subdev *sd,
	struct v4l2_crop *crop
)
{
	printk("%s\n", __FUNCTION__);
	return 0;
}

static int 
sensor_s_crop(
	struct v4l2_subdev *sd,
	struct v4l2_crop *crop
)
{
	printk("%s\n", __FUNCTION__);
	return 0;
}

static int 
sensor_g_parm(
	struct v4l2_subdev *sd,
	struct v4l2_streamparm *parms
)
{
	printk("%s\n", __FUNCTION__);
	return 0;
}

static int 
sensor_s_parm(
	struct v4l2_subdev *sd,
	struct v4l2_streamparm *param
)
{
	printk("%s\n", __FUNCTION__);
	return 0;
}


static int 
sensor_s_interface(
	struct v4l2_subdev *sd,
	struct v4l2_interface *interface
)
{
	printk("%s\n", __FUNCTION__);
	return 0;
}	

static int 
sensor_suspend(
	struct v4l2_subdev *sd
)
{
	printk("%s\n", __FUNCTION__);
	return 0;
}

static int 
sensor_resume(
	struct v4l2_subdev *sd
)
{
	printk("%s\n", __FUNCTION__);
	return 0;
}

static const struct v4l2_subdev_core_ops sensor_core_ops = 
{
	.init = sensor_init,
	.reset = sensor_reset,
	.queryctrl = sensor_queryctrl,
	.g_ctrl = sensor_g_ctrl,
	.s_ctrl = sensor_s_ctrl,
};

static const struct v4l2_subdev_video_ops sensor_video_ops = 
{
	.querystd = sensor_querystd,
	.enum_fmt = sensor_enum_fmt,
	.g_fmt = sensor_g_fmt,
	.try_fmt = sensor_try_fmt,
	.s_fmt = sensor_s_fmt,
	.cropcap = sensor_cropcap,
	.g_crop = sensor_g_crop,
	.s_crop = sensor_s_crop,
	.g_parm = sensor_g_parm,
	.s_parm = sensor_s_parm,
};

static const struct v4l2_subdev_ext_ops sensor_ext_ops = 
{
	.s_interface = sensor_s_interface,
	.suspend = sensor_suspend,
	.resume = sensor_resume,
};

static const struct v4l2_subdev_ops sensor_ops = 
{
	.core = &sensor_core_ops,
	.video = &sensor_video_ops,
	.ext = &sensor_ext_ops
};

static int __init 
sensor_module_init(
		void
)
{
	if(sensor_i2c_open(OV5642_ID, 100) < 0) {
		return -1;
	}

	printk(KERN_WARNING "ModuleInit: ov5642 mipi\n");
	g_sensor_dev.fmt = &g_fmt_table[0];
	v4l2_subdev_init(&(g_sensor_dev.sd), &sensor_ops);
	strcpy(g_sensor_dev.sd.name, "sensor_ov5642_mipi");
	register_sensor(&g_sensor_dev.sd, (int *)&param[0], &config_table);
	return 0;
}

static void __exit
sensor_module_exit(
		void
) 
{
	sensor_i2c_close();
	unregister_sensor(&(g_sensor_dev.sd));
}

module_init(sensor_module_init);
module_exit(sensor_module_exit);

/**************************************************************************
 *                  M O D U L E    D E C L A R A T I O N                  *
 **************************************************************************/
MODULE_AUTHOR("Generalplus");
MODULE_DESCRIPTION("Generalplus ov5642 mipi sensor Driver");
MODULE_LICENSE("GPL");
MODULE_VERSION("1.0");




